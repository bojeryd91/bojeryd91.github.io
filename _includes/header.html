<header class="header">

	<div class="header-image header-image--on" style="background-image: url({{ page.featured_image | relative_url }});"></div>
	<div class="header-image"></div>

	<div class="header-overlay"></div>

	<div class="header__content">

		{% if site.data.settings.header_settings.logo_image %}
		<a href="{{ site.baseurl }}/" class="header__logo">
			<img src="{{ site.data.settings.header_settings.logo_image | relative_url }}" class="header__logo__img">
		</a>
		{% else %}
		<a href="{{ site.baseurl }}/" class="header__title">
			{{ site.data.settings.basic_settings.site_title }}
		</a>
		{% endif %}

		<p class="header__tagline">{{ site.data.settings.basic_settings.site_tagline }}</p>

		<div class="menu">
			<div class="menu__toggle js-menu-toggle">
				<div class="menu__toggle__icon"><span></span></div>
			</div>
			<div class="menu__wrap">
				<ul class="menu__list">
					{% for item in site.data.settings.menu_settings.menu_items %}
					<li class="menu__list__item">
						<a href="{{ item.url | relative_url }}" class="menu__list__item__link">{{ item.title }}</a>
					</li>
					{% endfor %}
				</ul>
				{% include socials.html %}
			</div>
		</div>

	</div>

	{% seo %}
	<script>
	document.onload = function() {
		MathJax = {
			tex: {
				inlineMath: [['$', '$']],
				tags: 'ams'
			}
			loader: {load: ['ui/lazy']},
		  startup: {
		    ready() {
		      const {STATE, AbstractMathItem} = MathJax._.core.MathItem;
		      AbstractMathItem.prototype._STATE = AbstractMathItem.prototype.state;
		      AbstractMathItem.prototype.state = function (state, restore) {
		        if (state === STATE.TYPESET && this.lazyTypeset === false) {
		          console.log(this.math);
		        }
		        return this._STATE(state, restore);
		      }
		      MathJax.startup.defaultReady();
		    }
		  }
		};
	}
	</script>
	<script type="text/javascript" id="MathJax-script" async
		src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
	</script>
</header>
